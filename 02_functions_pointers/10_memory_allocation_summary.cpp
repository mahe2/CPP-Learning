/*
 * C++ ç¨‹åºå†…å­˜åˆ†é…è¯¦è§£
 * å“ªäº›åŒºåŸŸå›ºå®šï¼Ÿå“ªäº›åŠ¨æ€ï¼Ÿæ€»å†…å­˜ä¸Šé™æ˜¯å¤šå°‘ï¼Ÿ
 */

#include <iostream>
#include <vector>
#include <iomanip>

using namespace std;

// ========== ç¬¬ä¸€éƒ¨åˆ†ï¼šå„å†…å­˜åŒºåŸŸçš„åˆ†é…æ—¶æœº ==========

int globalVar = 100;  // å…¨å±€åŒº

void memoryRegionAllocation() {
    cout << "=== å„å†…å­˜åŒºåŸŸçš„åˆ†é…æ—¶æœº ===" << endl;
    
    cout << "\nã€ç¨‹åºå¯åŠ¨æ—¶å°±å›ºå®šçš„åŒºåŸŸã€‘" << endl;
    cout << "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" << endl;
    
    cout << "\n1. ä»£ç åŒºï¼ˆCode Segmentï¼‰" << endl;
    cout << "   å¤§å°ï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œç¨‹åºå¯åŠ¨æ—¶åŠ è½½" << endl;
    cout << "   ç‰¹ç‚¹ï¼šåªè¯»ï¼Œå›ºå®šå¤§å°" << endl;
    cout << "   å†…å®¹ï¼šå‡½æ•°ã€ç±»çš„æ–¹æ³•" << endl;
    cout << "   ä¾‹å¦‚ï¼šå¯æ‰§è¡Œæ–‡ä»¶ 1 MBï¼Œä»£ç åŒºå°±çº¦ 1 MB" << endl;
    
    cout << "\n2. å¸¸é‡åŒºï¼ˆRead-Only Dataï¼‰" << endl;
    cout << "   å¤§å°ï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œç¨‹åºå¯åŠ¨æ—¶åŠ è½½" << endl;
    cout << "   ç‰¹ç‚¹ï¼šåªè¯»ï¼Œå›ºå®šå¤§å°" << endl;
    cout << "   å†…å®¹ï¼šå­—ç¬¦ä¸²å­—é¢é‡ \"Hello\"ï¼Œconst å…¨å±€å˜é‡" << endl;
    cout << "   ä¾‹å¦‚ï¼šå‡  KB åˆ°å‡  MB" << endl;
    
    cout << "\n3. å…¨å±€/é™æ€åŒºï¼ˆGlobal/Static Dataï¼‰" << endl;
    cout << "   å¤§å°ï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œç¨‹åºå¯åŠ¨æ—¶åˆ†é…" << endl;
    cout << "   ç‰¹ç‚¹ï¼šå¯è¯»å†™ï¼Œå›ºå®šå¤§å°" << endl;
    cout << "   å†…å®¹ï¼šå…¨å±€å˜é‡ï¼Œstatic å˜é‡" << endl;
    cout << "   åˆ†ä¸ºï¼š" << endl;
    cout << "     - .data æ®µï¼ˆå·²åˆå§‹åŒ–ï¼‰ï¼šint g = 10;" << endl;
    cout << "     - .bss æ®µï¼ˆæœªåˆå§‹åŒ–ï¼‰ï¼šint g;" << endl;
    cout << "   ä¾‹å¦‚ï¼šå‡  KB åˆ°å‡  MB" << endl;
    
    cout << "\n4. æ ˆåŒºï¼ˆStackï¼‰" << endl;
    cout << "   å¤§å°ï¼šç¨‹åºå¯åŠ¨æ—¶å›ºå®šï¼" << endl;
    cout << "   ç‰¹ç‚¹ï¼šå¯è¯»å†™ï¼Œå›ºå®šå¤§å°ï¼ˆé€šå¸¸ 8 MBï¼‰" << endl;
    cout << "   å†…å®¹ï¼šå±€éƒ¨å˜é‡ï¼Œå‡½æ•°è°ƒç”¨æ ˆå¸§" << endl;
    cout << "   âœ… ä½ çš„ç†è§£æ­£ç¡®ï¼šå¯åŠ¨æ—¶å°±å›ºå®šäº†" << endl;
    
    cout << "\n" << endl;
    cout << "ã€ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€å˜åŒ–çš„åŒºåŸŸã€‘" << endl;
    cout << "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" << endl;
    
    cout << "\n5. å †åŒºï¼ˆHeapï¼‰" << endl;
    cout << "   å¤§å°ï¼šè¿è¡Œæ—¶åŠ¨æ€å˜åŒ–ï¼" << endl;
    cout << "   ç‰¹ç‚¹ï¼šå¯è¯»å†™ï¼Œå¤§å°åŠ¨æ€å¢é•¿" << endl;
    cout << "   å†…å®¹ï¼šnew/malloc åˆ†é…çš„å†…å­˜" << endl;
    cout << "   èµ·å§‹ï¼šç¨‹åºå¯åŠ¨æ—¶å¾ˆå°ï¼ˆå‡  KBï¼‰" << endl;
    cout << "   å¢é•¿ï¼šæ¯æ¬¡ new æ—¶å‘ä¸Šæ‰©å±•" << endl;
    cout << "   ä¸Šé™ï¼šå—ç³»ç»Ÿå¯ç”¨å†…å­˜é™åˆ¶ï¼ˆå¯è¾¾ GB çº§ï¼‰" << endl;
    cout << "   âœ… ä½ çš„ç†è§£æ­£ç¡®ï¼šåŠ¨æ€æ”¹å˜å¤§å°" << endl;
}

// ========== ç¬¬äºŒéƒ¨åˆ†ï¼šå†…å­˜å¤§å°å¯¹æ¯” ==========

void memorySizeComparison() {
    cout << "\n\n=== å„åŒºåŸŸå…¸å‹å¤§å° ===" << endl;
    
    cout << "\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”" << endl;
    cout << "â”‚   åŒºåŸŸ       â”‚   å›ºå®š/åŠ¨æ€  â”‚   å…¸å‹å¤§å°   â”‚   ä¸Šé™       â”‚" << endl;
    cout << "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤" << endl;
    cout << "â”‚ ä»£ç åŒº       â”‚ âœ… å›ºå®š      â”‚ å‡ ç™¾ KB ~ MB â”‚ ç¼–è¯‘æ—¶ç¡®å®š   â”‚" << endl;
    cout << "â”‚ å¸¸é‡åŒº       â”‚ âœ… å›ºå®š      â”‚ å‡  KB ~ MB   â”‚ ç¼–è¯‘æ—¶ç¡®å®š   â”‚" << endl;
    cout << "â”‚ å…¨å±€/é™æ€åŒº  â”‚ âœ… å›ºå®š      â”‚ å‡  KB ~ MB   â”‚ ç¼–è¯‘æ—¶ç¡®å®š   â”‚" << endl;
    cout << "â”‚ æ ˆåŒº         â”‚ âœ… å›ºå®š      â”‚ 8 MB (é»˜è®¤)  â”‚ 8 MB         â”‚" << endl;
    cout << "â”‚ å †åŒº         â”‚ âŒ åŠ¨æ€      â”‚ åˆå§‹å¾ˆå°     â”‚ ç³»ç»Ÿå†…å­˜é™åˆ¶ â”‚" << endl;
    cout << "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜" << endl;
    
    cout << "\nã€æ€»ç»“ã€‘" << endl;
    cout << "  å›ºå®šåŒºåŸŸï¼ˆå¯åŠ¨æ—¶åˆ†é…ï¼‰ï¼šä»£ç åŒº + å¸¸é‡åŒº + å…¨å±€åŒº + æ ˆåŒº" << endl;
    cout << "  åŠ¨æ€åŒºåŸŸï¼ˆè¿è¡Œæ—¶å¢é•¿ï¼‰ï¼šå †åŒº" << endl;
    cout << "  " << endl;
    cout << "  âœ… ä½ çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼" << endl;
}

// ========== ç¬¬ä¸‰éƒ¨åˆ†ï¼šç¨‹åºæ€»å†…å­˜ä¸Šé™ ==========

void totalMemoryLimit() {
    cout << "\n\n=== ç¨‹åºæ€»å†…å­˜ä¸Šé™ ===" << endl;
    
    cout << "\nã€ç†è®ºä¸Šé™ã€‘" << endl;
    cout << "  å–å†³äºï¼š" << endl;
    cout << "    1. ç³»ç»Ÿæ¶æ„ï¼ˆ32ä½ vs 64ä½ï¼‰" << endl;
    cout << "    2. æ“ä½œç³»ç»Ÿé™åˆ¶" << endl;
    cout << "    3. å¯ç”¨ç‰©ç†å†…å­˜ + äº¤æ¢ç©ºé—´" << endl;
    
    cout << "\nã€32 ä½ç³»ç»Ÿã€‘" << endl;
    cout << "  åœ°å€ç©ºé—´ï¼š2^32 = 4 GB" << endl;
    cout << "  ç”¨æˆ·ç©ºé—´ï¼šçº¦ 3 GBï¼ˆWindowsï¼‰æˆ– 3 GBï¼ˆLinuxï¼‰" << endl;
    cout << "  å†…æ ¸ç©ºé—´ï¼šçº¦ 1 GB" << endl;
    cout << "  " << endl;
    cout << "  å•ä¸ªè¿›ç¨‹æœ€å¤§å†…å­˜ï¼šçº¦ 3 GB" << endl;
    cout << "  ï¼ˆæ— è®ºç‰©ç†å†…å­˜å¤šå¤§ï¼Œ32 ä½ç¨‹åºæœ€å¤šç”¨ 3-4 GBï¼‰" << endl;
    
    cout << "\nã€64 ä½ç³»ç»Ÿï¼ˆç°ä»£ç³»ç»Ÿï¼‰ã€‘" << endl;
    cout << "  ç†è®ºåœ°å€ç©ºé—´ï¼š2^64 = 16 EBï¼ˆè‰¾å­—èŠ‚ï¼‰" << endl;
    cout << "  å®é™…ä½¿ç”¨ï¼šé€šå¸¸åªç”¨ 48 ä½ = 256 TB" << endl;
    cout << "  " << endl;
    cout << "  å•ä¸ªè¿›ç¨‹æœ€å¤§å†…å­˜ï¼š" << endl;
    cout << "    - ç†è®ºï¼š256 TBï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰" << endl;
    cout << "    - å®é™…ï¼šå—é™äºç‰©ç†å†…å­˜ + äº¤æ¢ç©ºé—´" << endl;
    cout << "    - ä¾‹å¦‚ï¼šä½ çš„ Mac æœ‰ 16 GB å†…å­˜ï¼Œç¨‹åºæœ€å¤šç”¨æ¥è¿‘ 16 GB" << endl;
    
    cout << "\nã€æ“ä½œç³»ç»Ÿé™åˆ¶ã€‘" << endl;
    cout << "  Linux:" << endl;
    cout << "    - è™šæ‹Ÿå†…å­˜ï¼šå‡ ä¹æ— é™ï¼ˆ256 TBï¼‰" << endl;
    cout << "    - å®é™…å—ç‰©ç†å†…å­˜é™åˆ¶" << endl;
    cout << "    - å¯é€šè¿‡ ulimit -v æŸ¥çœ‹/è®¾ç½®" << endl;
    cout << "  " << endl;
    cout << "  macOS:" << endl;
    cout << "    - ç±»ä¼¼ Linux" << endl;
    cout << "    - å—ç‰©ç†å†…å­˜å’Œäº¤æ¢ç©ºé—´é™åˆ¶" << endl;
    cout << "  " << endl;
    cout << "  Windows:" << endl;
    cout << "    - å·¥ä½œé›†ï¼ˆWorking Setï¼‰é™åˆ¶" << endl;
    cout << "    - 32 ä½ï¼šæœ€å¤§ 4 GB" << endl;
    cout << "    - 64 ä½ï¼šæœ€å¤§ 128 TBï¼ˆç†è®ºï¼‰" << endl;
}

// ========== ç¬¬å››éƒ¨åˆ†ï¼šå®é™…å†…å­˜ä½¿ç”¨ç¤ºä¾‹ ==========

void practicalMemoryUsage() {
    cout << "\n\n=== å®é™…å†…å­˜ä½¿ç”¨ç¤ºä¾‹ ===" << endl;
    
    cout << "\nã€ç¤ºä¾‹ï¼šä¸€ä¸ªç®€å•ç¨‹åºã€‘" << endl;
    cout << "  " << endl;
    cout << "  int main() {" << endl;
    cout << "      int x = 10;              // æ ˆï¼š4 å­—èŠ‚" << endl;
    cout << "      int* p = new int[1000];  // å †ï¼š4000 å­—èŠ‚" << endl;
    cout << "      delete[] p;" << endl;
    cout << "      return 0;" << endl;
    cout << "  }" << endl;
    
    cout << "\n  ç¨‹åºå¯åŠ¨æ—¶å†…å­˜ï¼š" << endl;
    cout << "    ä»£ç åŒºï¼š     çº¦ 100 KBï¼ˆç¼–è¯‘åçš„æœºå™¨ç ï¼‰" << endl;
    cout << "    å¸¸é‡åŒºï¼š     çº¦ 10 KBï¼ˆå­—ç¬¦ä¸²ç­‰ï¼‰" << endl;
    cout << "    å…¨å±€/é™æ€åŒºï¼šçº¦ 10 KBï¼ˆå…¨å±€å˜é‡ï¼‰" << endl;
    cout << "    æ ˆåŒºï¼š       8 MBï¼ˆé¢„ç•™ï¼Œä½†åªç”¨å¾ˆå°‘ï¼‰" << endl;
    cout << "    å †åŒºï¼š       åˆå§‹å‡  KBï¼Œè¿è¡Œæ—¶å¢é•¿" << endl;
    cout << "    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€" << endl;
    cout << "    æ€»è™šæ‹Ÿå†…å­˜ï¼šçº¦ 8.2 MB" << endl;
    cout << "    å®é™…ç‰©ç†å†…å­˜ï¼šå¯èƒ½åªæœ‰å‡ ç™¾ KB" << endl;
    
    cout << "\nã€ç¤ºä¾‹ï¼šå¤§é‡åŠ¨æ€åˆ†é…ã€‘" << endl;
    cout << "  " << endl;
    cout << "  int main() {" << endl;
    cout << "      vector<int*> ptrs;" << endl;
    cout << "      for (int i = 0; i < 1000; i++) {" << endl;
    cout << "          ptrs.push_back(new int[1000000]);  // æ¯æ¬¡ 4 MB" << endl;
    cout << "      }" << endl;
    cout << "      // é‡Šæ”¾..." << endl;
    cout << "  }" << endl;
    
    cout << "\n  è¿è¡Œæ—¶å†…å­˜ï¼š" << endl;
    cout << "    å›ºå®šåŒºåŸŸï¼š   çº¦ 8.2 MBï¼ˆä¸å˜ï¼‰" << endl;
    cout << "    å †åŒºï¼š       1000 * 4 MB = 4 GBï¼ˆåŠ¨æ€å¢é•¿ï¼‰" << endl;
    cout << "    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€" << endl;
    cout << "    æ€»å†…å­˜ï¼š     çº¦ 4 GB" << endl;
    cout << "    " << endl;
    cout << "    å¦‚æœç‰©ç†å†…å­˜ä¸å¤Ÿï¼Œç³»ç»Ÿä¼šç”¨äº¤æ¢ç©ºé—´ï¼ˆæ…¢ï¼‰" << endl;
    cout << "    å¦‚æœè™šæ‹Ÿå†…å­˜ä¹Ÿä¸å¤Ÿï¼Œnew ä¼šå¤±è´¥æˆ–ç¨‹åºå´©æºƒ" << endl;
}

// ========== ç¬¬äº”éƒ¨åˆ†ï¼šå†…å­˜å¢é•¿æ¼”ç¤º ==========

void demonstrateMemoryGrowth() {
    cout << "\n\n=== å †å†…å­˜åŠ¨æ€å¢é•¿æ¼”ç¤º ===" << endl;
    
    cout << "\nåˆ†é…å‰ï¼šå †åŒºå¾ˆå°" << endl;
    
    vector<int*> ptrs;
    
    cout << "\nåŠ¨æ€åˆ†é…å†…å­˜ï¼š" << endl;
    for (int i = 0; i < 5; i++) {
        int* p = new int[1000000];  // æ¯æ¬¡ 4 MB
        ptrs.push_back(p);
        cout << "  ç¬¬ " << (i+1) << " æ¬¡åˆ†é… 4 MBï¼Œåœ°å€: " << p << endl;
    }
    
    cout << "\nå †åŒºå¢é•¿äº†çº¦ 20 MB" << endl;
    cout << "ï¼ˆæ ˆåŒºã€ä»£ç åŒºç­‰ä¿æŒä¸å˜ï¼‰" << endl;
    
    // é‡Šæ”¾
    for (auto p : ptrs) {
        delete[] p;
    }
    
    cout << "\né‡Šæ”¾åï¼šå †å†…å­˜å½’è¿˜ç³»ç»Ÿï¼ˆä½†è™šæ‹Ÿåœ°å€èŒƒå›´å¯èƒ½ä¿ç•™ï¼‰" << endl;
}

// ========== ç¬¬å…­éƒ¨åˆ†ï¼šæ€»ç»“ä¸å¯¹æ¯” ==========

void summaryAndConclusion() {
    cout << "\n\n=== æ ¸å¿ƒæ€»ç»“ ===" << endl;
    
    cout << "\nã€ä½ çš„ç†è§£æ£€æŸ¥ã€‘" << endl;
    cout << "  " << endl;
    cout << "  âœ… ä»£ç åŒºï¼šå¯åŠ¨æ—¶å›ºå®š" << endl;
    cout << "  âœ… å¸¸é‡åŒºï¼šå¯åŠ¨æ—¶å›ºå®š" << endl;
    cout << "  âœ… å…¨å±€/é™æ€åŒºï¼šå¯åŠ¨æ—¶å›ºå®š" << endl;
    cout << "  âœ… æ ˆåŒºï¼šå¯åŠ¨æ—¶å›ºå®šï¼ˆ8 MBï¼‰" << endl;
    cout << "  âœ… å †åŒºï¼šè¿è¡Œæ—¶åŠ¨æ€å¢é•¿" << endl;
    cout << "  " << endl;
    cout << "  ğŸ’¯ ä½ çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼" << endl;
    
    cout << "\nã€ç¨‹åºæ€»å†…å­˜ä¸Šé™ã€‘" << endl;
    cout << "  " << endl;
    cout << "  32 ä½ç³»ç»Ÿï¼š" << endl;
    cout << "    å•è¿›ç¨‹æœ€å¤§ï¼šçº¦ 3-4 GBï¼ˆç¡¬é™åˆ¶ï¼‰" << endl;
    cout << "  " << endl;
    cout << "  64 ä½ç³»ç»Ÿï¼ˆç°ä»£ Mac/PCï¼‰ï¼š" << endl;
    cout << "    ç†è®ºä¸Šé™ï¼š256 TBï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰" << endl;
    cout << "    å®é™…ä¸Šé™ï¼šç‰©ç†å†…å­˜ + äº¤æ¢ç©ºé—´" << endl;
    cout << "    ä¾‹å¦‚ï¼š16 GB å†…å­˜çš„ Macï¼Œç¨‹åºå¯ç”¨æ¥è¿‘ 16 GB" << endl;
    cout << "    " << endl;
    cout << "    å¦‚æœä½ çš„ Mac æœ‰ 16 GB å†…å­˜ï¼š" << endl;
    cout << "      - ç¨‹åºç†è®ºä¸Šå¯ä»¥ç”¨æ¥è¿‘ 16 GB" << endl;
    cout << "      - å®é™…å¯èƒ½ 10-14 GBï¼ˆç³»ç»Ÿä¹Ÿè¦ç”¨å†…å­˜ï¼‰" << endl;
    cout << "      - è¶…è¿‡ç‰©ç†å†…å­˜ä¼šç”¨äº¤æ¢ç©ºé—´ï¼ˆå¾ˆæ…¢ï¼‰" << endl;
    
    cout << "\nã€å…³é”®åŒºåˆ«ã€‘" << endl;
    cout << "  " << endl;
    cout << "  è™šæ‹Ÿå†…å­˜ vs ç‰©ç†å†…å­˜ï¼š" << endl;
    cout << "    è™šæ‹Ÿå†…å­˜ï¼šç¨‹åºçœ‹åˆ°çš„åœ°å€ç©ºé—´ï¼ˆå¾ˆå¤§ï¼Œ256 TBï¼‰" << endl;
    cout << "    ç‰©ç†å†…å­˜ï¼šå®é™…çš„ RAMï¼ˆæœ‰é™ï¼Œå¦‚ 16 GBï¼‰" << endl;
    cout << "    " << endl;
    cout << "    ç¨‹åºå¯ä»¥åˆ†é…å¾ˆå¤§çš„è™šæ‹Ÿå†…å­˜" << endl;
    cout << "    ä½†å®é™…ä½¿ç”¨ä¼šå—ç‰©ç†å†…å­˜é™åˆ¶" << endl;
    
    cout << "\nã€å®é™…ç»éªŒã€‘" << endl;
    cout << "  " << endl;
    cout << "  å°ç¨‹åºï¼ˆå¦‚ä½ ç°åœ¨çš„å­¦ä¹ ä»£ç ï¼‰ï¼š" << endl;
    cout << "    æ€»å†…å­˜ï¼šå‡  MB ~ å‡ å MB" << endl;
    cout << "    å›ºå®šåŒºï¼šçº¦ 10 MB" << endl;
    cout << "    åŠ¨æ€åŒºï¼šå¾ˆå°‘" << endl;
    cout << "  " << endl;
    cout << "  ä¸­å‹åº”ç”¨ï¼ˆå¦‚æµè§ˆå™¨å•æ ‡ç­¾ï¼‰ï¼š" << endl;
    cout << "    æ€»å†…å­˜ï¼šå‡ ç™¾ MB ~ 1 GB" << endl;
    cout << "  " << endl;
    cout << "  å¤§å‹åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ã€æ¸¸æˆï¼‰ï¼š" << endl;
    cout << "    æ€»å†…å­˜ï¼šå‡  GB ~ åå‡  GB" << endl;
    cout << "  " << endl;
    cout << "  æœåŠ¡å™¨åº”ç”¨ï¼š" << endl;
    cout << "    æ€»å†…å­˜ï¼šå¯è¾¾æ•°å GBï¼ˆå¦‚æœå†…å­˜å¤Ÿï¼‰" << endl;
}

// ========== ç¬¬ä¸ƒéƒ¨åˆ†ï¼šJava/Kotlin å¯¹æ¯” ==========

void compareWithJavaKotlin() {
    cout << "\n\n=== ä¸ Java/Kotlin å¯¹æ¯” ===" << endl;
    
    cout << "\nã€Java/Kotlin çš„å†…å­˜æ¨¡å‹ã€‘" << endl;
    cout << "  " << endl;
    cout << "  java -Xms512m -Xmx4g MyApp" << endl;
    cout << "    -Xms: åˆå§‹å †å¤§å°ï¼ˆ512 MBï¼‰" << endl;
    cout << "    -Xmx: æœ€å¤§å †å¤§å°ï¼ˆ4 GBï¼‰" << endl;
    cout << "  " << endl;
    cout << "  ç‰¹ç‚¹ï¼š" << endl;
    cout << "    âœ… å †å¤§å°å¯é…ç½®ï¼ˆå¯åŠ¨æ—¶æŒ‡å®šï¼‰" << endl;
    cout << "    âœ… å †å¯ä»¥åŠ¨æ€å¢é•¿ï¼ˆä» Xms åˆ° Xmxï¼‰" << endl;
    cout << "    âœ… GC è‡ªåŠ¨ç®¡ç†" << endl;
    cout << "    âš ï¸  æ ˆå¤§å°ä¹Ÿå¯é…ç½®ï¼ˆ-Xssï¼‰" << endl;
    
    cout << "\nã€C++ vs Java/Kotlinã€‘" << endl;
    cout << "  " << endl;
    cout << "  C++:" << endl;
    cout << "    æ ˆï¼šå›ºå®šï¼ˆ8 MBï¼‰ï¼Œå¯åŠ¨æ—¶ç¡®å®š" << endl;
    cout << "    å †ï¼šåŠ¨æ€ï¼Œå—ç³»ç»Ÿå†…å­˜é™åˆ¶" << endl;
    cout << "    ç®¡ç†ï¼šæ‰‹åŠ¨ï¼ˆnew/deleteï¼‰" << endl;
    cout << "    ä¸Šé™ï¼š64 ä½ç³»ç»Ÿæ¥è¿‘ç‰©ç†å†…å­˜å¤§å°" << endl;
    cout << "  " << endl;
    cout << "  Java/Kotlin:" << endl;
    cout << "    æ ˆï¼šå›ºå®šï¼ˆ-Xssï¼Œé»˜è®¤ 1 MBï¼‰" << endl;
    cout << "    å †ï¼šåŠ¨æ€ï¼ˆ-Xms åˆ° -Xmxï¼‰" << endl;
    cout << "    ç®¡ç†ï¼šè‡ªåŠ¨ï¼ˆGCï¼‰" << endl;
    cout << "    ä¸Šé™ï¼š-Xmx å‚æ•°æŒ‡å®š" << endl;
}

int main() {
    cout << "=== C++ ç¨‹åºå†…å­˜åˆ†é…å®Œå…¨æŒ‡å— ===" << endl;
    
    // 1. å„åŒºåŸŸåˆ†é…æ—¶æœº
    memoryRegionAllocation();
    
    // 2. å†…å­˜å¤§å°å¯¹æ¯”
    memorySizeComparison();
    
    // 3. ç¨‹åºæ€»å†…å­˜ä¸Šé™
    totalMemoryLimit();
    
    // 4. å®é™…å†…å­˜ä½¿ç”¨
    practicalMemoryUsage();
    
    // 5. å †å†…å­˜å¢é•¿æ¼”ç¤º
    demonstrateMemoryGrowth();
    
    // 6. æ€»ç»“
    summaryAndConclusion();
    
    // 7. Java/Kotlin å¯¹æ¯”
    compareWithJavaKotlin();
    
    return 0;
}

/*
 * ========== ç»ˆææ€»ç»“ ==========
 * 
 * é—®é¢˜ 1ï¼šé™¤äº†å †ï¼Œå…¶ä»–åŒºåŸŸæ˜¯ä¸æ˜¯åœ¨å¯åŠ¨æ—¶å°±å›ºå®šäº†ï¼Ÿ
 * å›ç­”ï¼šâœ… å®Œå…¨æ­£ç¡®ï¼
 * 
 *   å¯åŠ¨æ—¶å›ºå®šçš„åŒºåŸŸï¼š
 *     âœ… ä»£ç åŒºï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œå¯åŠ¨æ—¶åŠ è½½
 *     âœ… å¸¸é‡åŒºï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œå¯åŠ¨æ—¶åŠ è½½
 *     âœ… å…¨å±€/é™æ€åŒºï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œå¯åŠ¨æ—¶åˆ†é…
 *     âœ… æ ˆåŒºï¼šå¯åŠ¨æ—¶å›ºå®šï¼ˆé€šå¸¸ 8 MBï¼‰
 *   
 *   è¿è¡Œæ—¶åŠ¨æ€çš„åŒºåŸŸï¼š
 *     âŒ å †åŒºï¼šåˆå§‹å¾ˆå°ï¼Œè¿è¡Œæ—¶æŒ‰éœ€å¢é•¿
 * 
 * 
 * é—®é¢˜ 2ï¼šå †å†…å­˜ä¼šéšç€ç¨‹åºè¿è¡ŒåŠ¨æ€æ”¹å˜å¤§å°ï¼Ÿ
 * å›ç­”ï¼šâœ… å®Œå…¨æ­£ç¡®ï¼
 * 
 *   å †çš„ç‰¹ç‚¹ï¼š
 *     - åˆå§‹ï¼šå¾ˆå°ï¼ˆå‡  KBï¼‰
 *     - å¢é•¿ï¼šæ¯æ¬¡ new æ—¶å‘ä¸Šæ‰©å±•
 *     - ç¼©å°ï¼šdelete åå½’è¿˜ç³»ç»Ÿï¼ˆä½†åœ°å€èŒƒå›´å¯èƒ½ä¿ç•™ï¼‰
 *     - ä¸Šé™ï¼šå—ç³»ç»Ÿå¯ç”¨å†…å­˜é™åˆ¶
 * 
 * 
 * é—®é¢˜ 3ï¼šç¨‹åºæ€»å†…å­˜æœ‰ä¸Šé™å—ï¼Ÿæ˜¯å¤šå°‘ï¼Ÿ
 * å›ç­”ï¼šæœ‰ä¸Šé™ï¼Œå–å†³äºç³»ç»Ÿæ¶æ„
 * 
 *   32 ä½ç³»ç»Ÿï¼š
 *     å•è¿›ç¨‹ä¸Šé™ï¼šçº¦ 3-4 GBï¼ˆç¡¬é™åˆ¶ï¼‰
 *     åŸå› ï¼š2^32 = 4 GB åœ°å€ç©ºé—´
 *   
 *   64 ä½ç³»ç»Ÿï¼ˆç°ä»£ Mac/PCï¼‰ï¼š
 *     ç†è®ºä¸Šé™ï¼š256 TBï¼ˆè™šæ‹Ÿå†…å­˜ï¼Œ2^48ï¼‰
 *     å®é™…ä¸Šé™ï¼šç‰©ç†å†…å­˜ + äº¤æ¢ç©ºé—´
 *     
 *     ä¾‹å¦‚ï¼šä½ çš„ Mac æœ‰ 16 GB å†…å­˜
 *       - ç¨‹åºå¯ç”¨ï¼šæ¥è¿‘ 16 GB
 *       - å®é™…çº¦ï¼š10-14 GBï¼ˆç³»ç»Ÿä¹Ÿè¦ç”¨å†…å­˜ï¼‰
 *       - è¶…è¿‡ç‰©ç†å†…å­˜ï¼šç”¨äº¤æ¢ç©ºé—´ï¼ˆæ…¢ï¼‰
 * 
 * 
 * å„åŒºåŸŸå…¸å‹å¤§å°ï¼š
 * 
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚   åŒºåŸŸ     â”‚  å›ºå®š?   â”‚  å¤§å°    â”‚   ä¸Šé™     â”‚
 *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 *   â”‚ ä»£ç åŒº     â”‚ âœ… å›ºå®š  â”‚ KB ~ MB  â”‚ ç¼–è¯‘æ—¶ç¡®å®š â”‚
 *   â”‚ å¸¸é‡åŒº     â”‚ âœ… å›ºå®š  â”‚ KB ~ MB  â”‚ ç¼–è¯‘æ—¶ç¡®å®š â”‚
 *   â”‚ å…¨å±€/é™æ€  â”‚ âœ… å›ºå®š  â”‚ KB ~ MB  â”‚ ç¼–è¯‘æ—¶ç¡®å®š â”‚
 *   â”‚ æ ˆåŒº       â”‚ âœ… å›ºå®š  â”‚ 8 MB     â”‚ 8 MB       â”‚
 *   â”‚ å †åŒº       â”‚ âŒ åŠ¨æ€  â”‚ åˆå§‹å°   â”‚ ç³»ç»Ÿå†…å­˜   â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * 
 * å…³é”®ç†è§£ï¼š
 * 
 *   1. è™šæ‹Ÿå†…å­˜ vs ç‰©ç†å†…å­˜
 *      è™šæ‹Ÿå†…å­˜ï¼šç¨‹åºçœ‹åˆ°çš„åœ°å€ç©ºé—´ï¼ˆå¾ˆå¤§ï¼‰
 *      ç‰©ç†å†…å­˜ï¼šå®é™…çš„ RAMï¼ˆæœ‰é™ï¼‰
 *      
 *      ç¨‹åºå¯ä»¥åˆ†é…å¾ˆå¤§çš„è™šæ‹Ÿå†…å­˜
 *      ä½†å®é™…ä½¿ç”¨å—ç‰©ç†å†…å­˜é™åˆ¶
 *   
 *   2. å›ºå®š vs åŠ¨æ€
 *      å›ºå®šï¼šå¯åŠ¨æ—¶å°±ç¡®å®šå¤§å°ï¼Œè¿è¡Œæ—¶ä¸å˜
 *           ä»£ç åŒºã€å¸¸é‡åŒºã€å…¨å±€åŒºã€æ ˆåŒº
 *      
 *      åŠ¨æ€ï¼šè¿è¡Œæ—¶æŒ‰éœ€å¢é•¿
 *           åªæœ‰å †åŒº
 *   
 *   3. å†…å­˜å¢é•¿
 *      å †å‘ä¸Šå¢é•¿ï¼šnew åˆ†é…æ—¶ï¼Œåœ°å€å¢å¤§
 *      æ ˆå‘ä¸‹å¢é•¿ï¼šå±€éƒ¨å˜é‡ï¼Œåœ°å€å‡å°
 *      ä¸¤è€…ä»ä¸¤ç«¯å‘ä¸­é—´é•¿ï¼Œæœ€å¤§åŒ–åˆ©ç”¨ç©ºé—´
 * 
 * 
 * å®é™…ç»éªŒå€¼ï¼š
 * 
 *   å°ç¨‹åºï¼ˆå­¦ä¹ ä»£ç ï¼‰ï¼š
 *     æ€»å†…å­˜ï¼šå‡  MB ~ å‡ å MB
 *   
 *   ä¸­å‹åº”ç”¨ï¼ˆæµè§ˆå™¨æ ‡ç­¾ï¼‰ï¼š
 *     æ€»å†…å­˜ï¼šå‡ ç™¾ MB ~ 1 GB
 *   
 *   å¤§å‹åº”ç”¨ï¼ˆIDEã€æ¸¸æˆï¼‰ï¼š
 *     æ€»å†…å­˜ï¼šå‡  GB ~ åå‡  GB
 *   
 *   æœåŠ¡å™¨åº”ç”¨ï¼š
 *     æ€»å†…å­˜ï¼šå¯è¾¾æ•°å GB
 * 
 * 
 * ä¸ Java/Kotlin å¯¹æ¯”ï¼š
 * 
 *   C++:
 *     å †ï¼šå—ç³»ç»Ÿå†…å­˜é™åˆ¶ï¼Œå¯ç”¨åˆ°ç‰©ç†å†…å­˜å¤§å°
 *     æ ˆï¼šå›ºå®š 8 MB
 *   
 *   Java/Kotlin:
 *     å †ï¼š-Xmx å‚æ•°é™åˆ¶ï¼ˆå¦‚ -Xmx4gï¼‰
 *     æ ˆï¼š-Xss å‚æ•°é™åˆ¶ï¼ˆå¦‚ -Xss1mï¼‰
 *     
 *     æ›´å¯æ§ï¼Œä½†éœ€è¦æ‰‹åŠ¨é…ç½®
 */
