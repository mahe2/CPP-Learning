# 05 - ç»¼åˆç»ƒä¹ 

## ğŸ“š æœ¬ç« å†…å®¹

é€šè¿‡å®æˆ˜é¡¹ç›®å·©å›º C++ çŸ¥è¯†ï¼Œæ¶µç›–ç±»ã€ç»§æ‰¿ã€å¤šæ€ã€æ™ºèƒ½æŒ‡é’ˆã€STL ç­‰ã€‚

### ç»ƒä¹ é¡¹ç›®

1. **01_student_manager.cpp** - å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ
2. **02_bank_system.cpp** - é“¶è¡Œè´¦æˆ·ç³»ç»Ÿ
3. **03_library_system.cpp** - å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ

---

## ğŸš€ å¦‚ä½•ç¼–è¯‘è¿è¡Œ

```bash
# å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ
g++ -std=c++17 01_student_manager.cpp -o student_manager
./student_manager

# é“¶è¡Œç³»ç»Ÿ
g++ -std=c++17 02_bank_system.cpp -o bank_system
./bank_system

# å›¾ä¹¦é¦†ç³»ç»Ÿ
g++ -std=c++17 03_library_system.cpp -o library_system
./library_system
```

---

## ğŸ“‹ é¡¹ç›®è¯´æ˜

### 1. å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½ï¼š**
- æ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢å­¦ç”Ÿ
- æˆç»©æ’åºï¼ˆå‡åº/é™åºï¼‰
- è®¡ç®—å¹³å‡åˆ†
- æŸ¥æ‰¾æœ€é«˜åˆ†å­¦ç”Ÿ

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**
- ç±»çš„è®¾è®¡
- `shared_ptr` æ™ºèƒ½æŒ‡é’ˆ
- `vector` å®¹å™¨
- Lambda è¡¨è¾¾å¼
- STL ç®—æ³•ï¼ˆ`sort`, `find_if`, `max_element`ï¼‰

**è¿è¡Œæˆªå›¾ç¤ºä¾‹ï¼š**
```
====== å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ ======
1. æ·»åŠ å­¦ç”Ÿ
2. åˆ é™¤å­¦ç”Ÿ
3. æŸ¥è¯¢å­¦ç”Ÿ
...
```

---

### 2. é“¶è¡Œè´¦æˆ·ç³»ç»Ÿ

**åŠŸèƒ½ï¼š**
- åˆ›å»ºå‚¨è“„è´¦æˆ·å’Œæ”¯ç¥¨è´¦æˆ·
- å­˜æ¬¾ã€å–æ¬¾ã€è½¬è´¦
- è´¦æˆ·ä¿¡æ¯æŸ¥è¯¢
- æ€»èµ„äº§ç»Ÿè®¡

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**
- ç»§æ‰¿å’Œå¤šæ€
- æŠ½è±¡ç±»ï¼ˆçº¯è™šå‡½æ•°ï¼‰
- è™šææ„å‡½æ•°
- `override` å…³é”®å­—
- å¤šæ€å¯¹è±¡ç®¡ç†

**ç±»å±‚æ¬¡ç»“æ„ï¼š**
```
Account (æŠ½è±¡åŸºç±»)
â”œâ”€â”€ SavingsAccount (å‚¨è“„è´¦æˆ·)
â””â”€â”€ CheckingAccount (æ”¯ç¥¨è´¦æˆ·)
```

---

### 3. å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ

**åŠŸèƒ½ï¼š**
- æ·»åŠ å›¾ä¹¦ã€æ³¨å†Œä¼šå‘˜
- å€Ÿä¹¦ã€è¿˜ä¹¦
- å›¾ä¹¦æœç´¢
- å€Ÿé˜…è®°å½•æŸ¥è¯¢
- ç»Ÿè®¡ä¿¡æ¯

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**
- å¤šç±»åä½œè®¾è®¡
- `map` å®¹å™¨
- `vector` å’Œç®—æ³•
- ç»“æ„ä½“ï¼ˆ`BorrowRecord`ï¼‰
- ä¸šåŠ¡é€»è¾‘å®ç°

**æ•°æ®ç»“æ„ï¼š**
```
Library
â”œâ”€â”€ map<string, Book>     // ISBN -> Book
â””â”€â”€ map<string, Member>   // MemberId -> Member

Member
â””â”€â”€ vector<BorrowRecord>  // å€Ÿé˜…è®°å½•
```

---

## ğŸ¯ å­¦ä¹ é‡ç‚¹

### ä»£ç ç»„ç»‡
```cpp
// ç±»çš„è®¾è®¡
class Student {
private:
    string name;    // ç§æœ‰æ•°æ®
    int id;
    
public:
    // æ„é€ å‡½æ•°
    Student(string n, int i) : name(n), id(i) {}
    
    // Getter/Setter
    string getName() const { return name; }
    void setName(const string& n) { name = n; }
};
```

### æ™ºèƒ½æŒ‡é’ˆä½¿ç”¨
```cpp
// ä½¿ç”¨ shared_ptr ç®¡ç†å¯¹è±¡
vector<shared_ptr<Student>> students;

// åˆ›å»ºå¯¹è±¡
auto student = make_shared<Student>("å¼ ä¸‰", 1001);
students.push_back(student);

// è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œæ— éœ€ delete
```

### Lambda è¡¨è¾¾å¼
```cpp
// æŒ‰æˆç»©æ’åº
sort(students.begin(), students.end(),
    [](const shared_ptr<Student>& a, const shared_ptr<Student>& b) {
        return a->getScore() < b->getScore();
    });

// æŸ¥æ‰¾å­¦ç”Ÿ
auto it = find_if(students.begin(), students.end(),
    [id](const shared_ptr<Student>& s) {
        return s->getId() == id;
    });
```

### å¤šæ€åº”ç”¨
```cpp
// åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡
vector<shared_ptr<Account>> accounts;
accounts.push_back(make_shared<SavingsAccount>(...));
accounts.push_back(make_shared<CheckingAccount>(...));

// å¤šæ€è°ƒç”¨
for (auto& account : accounts) {
    account->displayInfo();  // è°ƒç”¨å„è‡ªçš„å®ç°
}
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. const æ­£ç¡®æ€§
```cpp
// âœ… å¥½ï¼šä¸ä¿®æ”¹å¯¹è±¡çš„æ–¹æ³•æ ‡è®°ä¸º const
void display() const {
    cout << name << endl;
}

// âœ… å¥½ï¼šåªè¯»å‚æ•°ä½¿ç”¨ const å¼•ç”¨
void process(const vector<int>& data);
```

### 2. æ™ºèƒ½æŒ‡é’ˆä¼˜å…ˆ
```cpp
// âŒ é¿å…
Student* student = new Student("å¼ ä¸‰", 1001);
// ...å®¹æ˜“å¿˜è®° delete

// âœ… æ¨è
auto student = make_shared<Student>("å¼ ä¸‰", 1001);
```

### 3. ä½¿ç”¨ STL ç®—æ³•
```cpp
// âŒ æ‰‹åŠ¨å¾ªç¯
for (int i = 0; i < vec.size(); i++) {
    if (vec[i] > 5) {
        // ...
    }
}

// âœ… ä½¿ç”¨ç®—æ³•
auto it = find_if(vec.begin(), vec.end(),
    [](int n) { return n > 5; });
```

### 4. åˆç†ä½¿ç”¨å®¹å™¨
```cpp
// éœ€è¦å¿«é€ŸæŸ¥æ‰¾ â†’ map/unordered_map
map<string, Book> books;

// éœ€è¦é¡ºåºå­˜å‚¨ â†’ vector
vector<Student> students;

// éœ€è¦å»é‡ â†’ set
set<string> uniqueNames;
```

---

## ğŸ”§ æ‰©å±•ç»ƒä¹ 

### åŸºç¡€æ‰©å±•
1. **æ–‡ä»¶æŒä¹…åŒ–**
   - ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶
   - ä»æ–‡ä»¶åŠ è½½æ•°æ®
   
2. **è¾“å…¥éªŒè¯**
   - éªŒè¯å­¦å·ã€è´¦å·æ ¼å¼
   - æ£€æŸ¥é‡‘é¢æ˜¯å¦æœ‰æ•ˆ
   
3. **å¼‚å¸¸å¤„ç†**
   - ä½¿ç”¨ try-catch å¤„ç†é”™è¯¯
   - è‡ªå®šä¹‰å¼‚å¸¸ç±»

### è¿›é˜¶æ‰©å±•
4. **å¤šç§‘ç›®æˆç»©**
   - å­¦ç”Ÿç®¡ç†ç³»ç»Ÿæ”¯æŒå¤šç§‘ç›®
   - è®¡ç®—æ€»åˆ†å’Œå¹³å‡åˆ†
   
5. **äº¤æ˜“å†å²**
   - é“¶è¡Œç³»ç»Ÿè®°å½•æ‰€æœ‰äº¤æ˜“
   - æŸ¥è¯¢äº¤æ˜“å†å²
   
6. **å›¾ä¹¦é¢„çº¦**
   - å›¾ä¹¦é¦†æ”¯æŒé¢„çº¦åŠŸèƒ½
   - åˆ°æœŸè‡ªåŠ¨é€šçŸ¥

### é«˜çº§æ‰©å±•
7. **æ•°æ®åº“é›†æˆ**
   - ä½¿ç”¨ SQLite å­˜å‚¨æ•°æ®
   
8. **å¤šçº¿ç¨‹æ”¯æŒ**
   - å¹¶å‘è®¿é—®ä¿æŠ¤
   
9. **GUI ç•Œé¢**
   - ä½¿ç”¨ Qt åˆ›å»ºå›¾å½¢ç•Œé¢

---

## ğŸ“Š çŸ¥è¯†ç‚¹è¦†ç›–

| çŸ¥è¯†ç‚¹ | é¡¹ç›®1 | é¡¹ç›®2 | é¡¹ç›®3 |
|--------|-------|-------|-------|
| ç±»å’Œå¯¹è±¡ | âœ… | âœ… | âœ… |
| ç»§æ‰¿ | âŒ | âœ… | âŒ |
| å¤šæ€ | âŒ | âœ… | âŒ |
| æ™ºèƒ½æŒ‡é’ˆ | âœ… | âœ… | âœ… |
| vector | âœ… | âœ… | âœ… |
| map | âŒ | âŒ | âœ… |
| Lambda | âœ… | âŒ | âœ… |
| STL ç®—æ³• | âœ… | âŒ | âœ… |

---

## ğŸ› å¸¸è§é”™è¯¯

### 1. å¿˜è®°è™šææ„å‡½æ•°
```cpp
// âŒ é”™è¯¯
class Base {
public:
    ~Base() {}  // éè™šææ„å‡½æ•°
};

// âœ… æ­£ç¡®
class Base {
public:
    virtual ~Base() {}  // è™šææ„å‡½æ•°
};
```

### 2. å®¹å™¨è¿­ä»£æ—¶ä¿®æ”¹
```cpp
// âŒ å±é™©
for (auto it = vec.begin(); it != vec.end(); it++) {
    vec.erase(it);  // è¿­ä»£å™¨å¤±æ•ˆï¼
}

// âœ… æ­£ç¡®
auto it = vec.begin();
while (it != vec.end()) {
    if (/* æ¡ä»¶ */) {
        it = vec.erase(it);  // erase è¿”å›ä¸‹ä¸€ä¸ªè¿­ä»£å™¨
    } else {
        ++it;
    }
}
```

### 3. const å¼•ç”¨é™·é˜±
```cpp
// âŒ é”™è¯¯
const vector<int>& getVector() {
    vector<int> temp{1, 2, 3};
    return temp;  // è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼ˆæ‚¬ç©ºå¼•ç”¨ï¼‰
}

// âœ… æ­£ç¡®
vector<int> getVector() {
    vector<int> temp{1, 2, 3};
    return temp;  // è¿”å›å€¼ï¼ˆç§»åŠ¨è¯­ä¹‰ï¼‰
}
```

---

## ğŸ“š å­¦ä¹ å»ºè®®

1. **å…ˆç†è§£å†ç¼–ç **ï¼šåˆ†æéœ€æ±‚ï¼Œè®¾è®¡ç±»ç»“æ„
2. **å¢é‡å¼€å‘**ï¼šå…ˆå®ç°åŸºæœ¬åŠŸèƒ½ï¼Œå†é€æ­¥æ‰©å±•
3. **æµ‹è¯•é©±åŠ¨**ï¼šæ¯å®ç°ä¸€ä¸ªåŠŸèƒ½å°±æµ‹è¯•
4. **ä»£ç å¤å®¡**ï¼šå®Œæˆåæ£€æŸ¥æ˜¯å¦æœ‰æ”¹è¿›ç©ºé—´
5. **å¯¹æ¯” Java/Kotlin**ï¼šæ€è€ƒå®ç°å·®å¼‚

---

## ğŸ“ å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] èƒ½ç‹¬ç«‹ç¼–è¯‘è¿è¡Œä¸‰ä¸ªé¡¹ç›®
- [ ] ç†è§£ç±»çš„è®¾è®¡åŸåˆ™
- [ ] æŒæ¡æ™ºèƒ½æŒ‡é’ˆçš„ä½¿ç”¨
- [ ] ç†Ÿç»ƒä½¿ç”¨ STL å®¹å™¨
- [ ] ç†è§£ç»§æ‰¿å’Œå¤šæ€çš„åº”ç”¨
- [ ] èƒ½å¤Ÿä½¿ç”¨ Lambda ç®€åŒ–ä»£ç 
- [ ] å¯ä»¥å®Œæˆè‡³å°‘ä¸€ä¸ªæ‰©å±•åŠŸèƒ½

---

**æ­å–œå®Œæˆæ‰€æœ‰ç»ƒä¹ ï¼æ¥ä¸‹æ¥å¯ä»¥å­¦ä¹  Qt å¼€å‘ ğŸ‰**
